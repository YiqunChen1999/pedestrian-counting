# Add mask head

本文档更新了如何在ATSS中添加分割分支，基于mmdet的FCNMaskHead类

## 代码替换

以atss_r50_fpn_1x_coco.py文件为例，其中将数据集替换为COCO数据集，更改数据集处理文件为coco_detection.py，并在coco_detection.py中更改数据集存储路径
在model中添加mask_head，因此重写ATSS类为ATSS_withMask类，其中使用MaskRCNN的FCNMaskHead类
由于重写ATSS_withMask类，需要更改mmet/models/detectors/_init_.py，增加ATSS_withMask类
重写ATSS_withMask类，在ATSS类的基础上添加mask_head，并将继承类改为SingleStageInstanceSegmentor，注意该继承类来自.single_stage_instance_seg

## COCO数据集获取

参考CSDN博客https://blog.csdn.net/ghw15221836342/article/details/80084984?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1-80084984-blog-123407382.pc_relevant_baidufeatures_v7&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1-80084984-blog-123407382.pc_relevant_baidufeatures_v7&utm_relevant_index=2
